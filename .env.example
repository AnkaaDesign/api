# API Environment Variables - EXAMPLE
# Copy this file to .env.development, .env.staging, or .env.production and fill in actual values

# ==============================================
# REQUIRED VARIABLES
# ==============================================

# Environment (development, staging, production)
NODE_ENV="development"

# Server Configuration
PORT=3030

# Database (REQUIRED)
# Development: postgresql://username:password@127.0.0.1:5432/ankaa_dev?schema=public
# Staging:     postgresql://username:password@host:5432/ankaa_staging?schema=public
# Production:  postgresql://username:password@host:5432/ankaa_production?schema=public
# NOTE: Use 127.0.0.1 instead of localhost when using Docker on macOS
DATABASE_URL="postgresql://username:password@127.0.0.1:5432/database_name?schema=public"

# PostgreSQL Docker Credentials (for docker-compose)
POSTGRES_USER="username"
POSTGRES_PASSWORD="password"
POSTGRES_DB="database_name"

# JWT Authentication (REQUIRED - must be at least 32 characters)
# Generate using: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-min-32-chars-long-change-this"
JWT_EXPIRATION="7d"

# ==============================================
# API & CORS CONFIGURATION
# ==============================================

# API Configuration
# Development: http://localhost:3030
# Staging:     https://api.staging.ankaa.live
# Production:  https://api.ankaa.live
API_URL="http://localhost:3030"
API_BASE_URL="http://localhost:3030"

# Client/CORS Configuration
# Development: http://localhost:5173
# Staging:     https://staging.ankaa.live
# Production:  https://ankaa.live
CLIENT_HOST="http://localhost:5173"
CORS_ORIGINS="http://localhost:5173,http://localhost:5174"

# ==============================================
# FILE UPLOAD & STORAGE
# ==============================================

# Temporary upload directory (files are staged here before moving to FILES_ROOT)
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=524288000
MAX_UPLOAD_FILES=10000
MAX_UPLOAD_SIZE_MB=10000
ALLOWED_FILE_TYPES="image/*,application/pdf,application/msword"
FILE_URL_PREFIX="/files"

# Files Storage Configuration
# Development: FILES_ROOT="./uploads/files"
# Production:  FILES_ROOT="/srv/files" (served by nginx via arquivos.ankaa.live, accessible locally via Samba)
FILES_ROOT="./uploads/files"

# Files Base URL (public URL for file access via nginx)
# Development: FILES_BASE_URL="http://localhost:3030"
# Production:  FILES_BASE_URL="https://arquivos.ankaa.live"
FILES_BASE_URL="http://localhost:3030"

# ==============================================
# PERFORMANCE & CACHING
# ==============================================

# Redis Cache (Optional)
# REDIS_HOST="localhost"
# REDIS_PORT=6379
# REDIS_PASSWORD=""
# REDIS_DB=0

# Rate Limiting
DISABLE_RATE_LIMITING="false"

# ==============================================
# LOGGING & MONITORING
# ==============================================

LOG_LEVEL="debug"
LOG_DIR="./logs"
LOG_FORMAT="json"
ENABLE_CONSOLE_LOGS="true"
ENABLE_FILE_LOGS="false"

HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000
ENABLE_METRICS="false"
METRICS_ENDPOINT="/metrics"

# ==============================================
# SECURITY
# ==============================================

CSP_REPORT_URI="/api/security/csp-report"
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS="false"
HSTS_PRELOAD="false"
SESSION_MAX_AGE=86400000

# ==============================================
# EXTERNAL SERVICES (All Optional)
# ==============================================

# Twilio SMS Service
# TWILIO_ACCOUNT_SID=""
# TWILIO_AUTH_TOKEN=""
# TWILIO_PHONE_NUMBER=""

# Email Service (Gmail SMTP - hardcoded to use port 587 with STARTTLS)
# EMAIL_USER="your-gmail-address@gmail.com"
# EMAIL_PASS="your-16-char-gmail-app-password"

# Secullum Integration
# SECULLUM_BASE_URL="https://pontoweb.secullum.com.br"
# SECULLUM_EMAIL=""
# SECULLUM_PASSWORD=""
# SECULLUM_DATABASE_ID="4c8681f2e79a4b7ab58cc94503106736"
# SECULLUM_CLIENT_ID="3"
# SECULLUM_CLIENT_SECRET=""
