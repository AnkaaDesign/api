# API Environment Variables - EXAMPLE
# Copy this file to .env.development, .env.staging, or .env.production and fill in actual values

# ==============================================
# REQUIRED VARIABLES
# ==============================================

# Environment (development, staging, production)
NODE_ENV="development"

# Server Configuration
PORT=3030

# Database (REQUIRED)
# Development: postgresql://username:password@127.0.0.1:5432/ankaa_dev?schema=public
# Staging:     postgresql://username:password@host:5432/ankaa_staging?schema=public
# Production:  postgresql://username:password@host:5432/ankaa_production?schema=public
# NOTE: Use 127.0.0.1 instead of localhost when using Docker on macOS
DATABASE_URL="postgresql://username:password@127.0.0.1:5432/database_name?schema=public"

# PostgreSQL Docker Credentials (for docker-compose)
POSTGRES_USER="username"
POSTGRES_PASSWORD="password"
POSTGRES_DB="database_name"

# JWT Authentication (REQUIRED - must be at least 32 characters)
# Generate using: openssl rand -base64 32
JWT_SECRET="your-super-secret-jwt-key-min-32-chars-long-change-this"
JWT_EXPIRATION="7d"

# ==============================================
# API & CORS CONFIGURATION
# ==============================================

# API Configuration
# Development: http://localhost:3030
# Staging:     https://api.staging.ankaadesign.com.br
# Production:  https://api.ankaadesign.com.br
API_URL="http://localhost:3030"
API_BASE_URL="http://localhost:3030"

# Client/CORS Configuration
# Development: http://localhost:5173
# Staging:     https://staging.ankaadesign.com.br
# Production:  https://ankaadesign.com.br
CLIENT_HOST="http://localhost:5173"
CORS_ORIGINS="http://localhost:5173,http://localhost:5174"

# ==============================================
# FILE UPLOAD & STORAGE
# ==============================================

# Temporary upload directory (files are staged here before moving to FILES_ROOT)
UPLOAD_DIR="./uploads"
MAX_FILE_SIZE=524288000
MAX_UPLOAD_FILES=10000
MAX_UPLOAD_SIZE_MB=10000
ALLOWED_FILE_TYPES="image/*,application/pdf,application/msword"
FILE_URL_PREFIX="/files"

# Files Storage Configuration
# Development: FILES_ROOT="./uploads/files"
# Production:  FILES_ROOT="/srv/files" (served by nginx via arquivos.ankaadesign.com.br, accessible locally via Samba)
FILES_ROOT="./uploads/files"

# Files Base URL (public URL for file access via nginx)
# Development: FILES_BASE_URL="http://localhost:3030"
# Production:  FILES_BASE_URL="https://arquivos.ankaadesign.com.br"
FILES_BASE_URL="http://localhost:3030"

# ==============================================
# PERFORMANCE & CACHING
# ==============================================

# Redis Cache (Optional)
# REDIS_HOST="localhost"
# REDIS_PORT=6379
# REDIS_PASSWORD=""
# REDIS_DB=0

# Rate Limiting
DISABLE_RATE_LIMITING="false"

# ==============================================
# LOGGING & MONITORING
# ==============================================

LOG_LEVEL="debug"
LOG_DIR="./logs"
LOG_FORMAT="json"
ENABLE_CONSOLE_LOGS="true"
ENABLE_FILE_LOGS="false"

HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000
ENABLE_METRICS="false"
METRICS_ENDPOINT="/metrics"

# ==============================================
# SECURITY
# ==============================================

CSP_REPORT_URI="/api/security/csp-report"
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS="false"
HSTS_PRELOAD="false"
SESSION_MAX_AGE=86400000

# ==============================================
# EXTERNAL SERVICES (All Optional)
# ==============================================

# Twilio SMS Service
# TWILIO_ACCOUNT_SID=""
# TWILIO_AUTH_TOKEN=""
# TWILIO_PHONE_NUMBER=""

# ==============================================
# EMAIL CONFIGURATION (SMTP)
# ==============================================

# SMTP Server Configuration
# Common providers:
# - Gmail:        smtp.gmail.com (port 587, secure=false for STARTTLS)
# - Outlook:      smtp-mail.outlook.com (port 587, secure=false)
# - SendGrid:     smtp.sendgrid.net (port 587, secure=false)
# - Mailgun:      smtp.mailgun.org (port 587, secure=false)
# - Amazon SES:   email-smtp.[region].amazonaws.com (port 587, secure=false)
# - Custom SMTP:  Your SMTP server address

SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_SECURE=false

# SMTP Authentication
# For Gmail: Use App Password (not regular password)
# Generate at: https://myaccount.google.com/apppasswords
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-password-here"

# Email From Configuration
# This will be shown as the sender in recipient's inbox
SMTP_FROM_EMAIL="noreply@yourdomain.com"
SMTP_FROM_NAME="Your Company Name"

# Template Configuration
# Directory where email templates are stored
EMAIL_TEMPLATES_DIR="./src/templates/emails"

# Legacy Email Variables (for backward compatibility)
# EMAIL_USER="your-gmail-address@gmail.com"
# EMAIL_PASS="your-16-char-gmail-app-password"

# Secullum Integration
# SECULLUM_BASE_URL="https://pontoweb.secullum.com.br"
# SECULLUM_EMAIL=""
# SECULLUM_PASSWORD=""
# SECULLUM_DATABASE_ID="4c8681f2e79a4b7ab58cc94503106736"
# SECULLUM_CLIENT_ID="3"
# SECULLUM_CLIENT_SECRET=""

# ==============================================
# NOTIFICATION SYSTEM
# ==============================================

# Notification Queue Configuration
NOTIFICATION_QUEUE_CONCURRENCY=5

# WhatsApp (whatsapp-web.js)
WHATSAPP_SESSION_PATH=./.wwebjs_auth

# Firebase Cloud Messaging (FCM) for Push Notifications
# Option 1: Use individual environment variables (recommended for production)
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project-id.iam.gserviceaccount.com

# Option 2: Use service account file path (recommended for development)
# FIREBASE_SERVICE_ACCOUNT_PATH=./config/firebase-service-account.json

# Note: Only one option is required. If both are provided, the service account file takes precedence.

# Push Notifications
WEB_APP_URL=https://ankaadesign.com.br
MOBILE_APP_SCHEME=ankaadesign

# Deep Linking
WEB_BASE_URL=https://ankaadesign.com.br
MOBILE_UNIVERSAL_LINK=https://ankaadesign.com.br/app
UNIVERSAL_LINK_DOMAIN=https://ankaadesign.com.br
